1. Check If the Camera is Enabled

Before testing, ensure the camera is enabled in Raspberry Pi OS.

Enable the Camera (if not already enabled)
	1.	Open a terminal on your Raspberry Pi.
	2.	Run the Raspberry Pi configuration tool:

    sudo raspi-config

    3.	Navigate to: Interfacing Options → Camera → Enable
	4.	Reboot the Raspberry Pi:

    sudo reboot


2. Check If the Camera is Detected

After rebooting, check if the system detects the camera:

    vcgencmd get_camera

Should return: supported=1 detected=1


3. Test the Camera with libcamera (For Raspberry Pi OS Bullseye and Later)

If you’re using a modern Raspberry Pi OS, raspistill and raspivid are deprecated. Instead, use libcamera:

Take a Picture

Run the following command:

    libcamera-still -o test.jpg

To check if the image is captured:

    ls -lh test.jpg

If test.jpg appears in the directory, the camera is working.

Record a Video

    libcamera-vid -o test_video.h264 -t 5000

This records a 5-second video (5000 ms) to test_video.h264.

To verify the file:

    ls -lh test_video.h264

To transfer the video to another computer (if you don’t have a display), use SCP:

    scp pi@raspberrypi.local:/home/pi/test_video.h264 .


4. Test with OpenCV in Python

If you plan to use face tracking, it’s good to test with OpenCV.

Install OpenCV

    sudo apt update
    sudo apt install python3-opencv -y

Test with a Python Script

Create a test script:

    nano test_camera.py

Paste this code:
----
import cv2

# Open camera
cap = cv2.VideoCapture(0)

if not cap.isOpened():
    print("Error: Could not open camera.")
    exit()

ret, frame = cap.read()
if ret:
    cv2.imwrite("captured.jpg", frame)  # Save image
    print("Image saved as captured.jpg")
else:
    print("Failed to capture image")

cap.release()
----

Save and run:

    python3 test_camera.py

Then check:

    ls -lh captured.jpg

To transfer the image to another computer:

    scp pi@raspberrypi.local:/home/pi/captured.jpg .


Troubleshooting

1. Camera Not Detected (detected=0)
	•	Ensure the ribbon cable is properly connected (gold pins should face the camera connector).
	•	Run:

    dmesg | grep -i camera

to check for hardware detection issues.

2. “Could not open camera” Error in Python
	•	Ensure OpenCV is installed correctly.
	•	Try specifying the camera index explicitly:

    cap = cv2.VideoCapture(0, cv2.CAP_V4L2)
